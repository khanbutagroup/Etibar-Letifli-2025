{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block meta %}

<title>{{ meta.title|default:"Default Title" }}</title>
<meta name="description" content="{{ meta.description|default:'Default description' }}">
<meta name="keywords" content="{{ meta.keywords|default:'keyword1, keyword2' }}">

{% endblock %}
{% block css %}

    <!-- Google Fonts Link -->
    <link rel="preconnect" href="https://fonts.googleapis.com/" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&amp;family=Rubik:ital,wght@0,300..900;1,300..900&amp;display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap CSS Link -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'assets/css/bootstrap.min.css' %}"
    />

    <!-- Swiper Slider CSS Link -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'assets/css/swiper-bundle.min.css' %}"
    />

    <!-- Font Awesome CSS Link -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'assets/css/fontawesome.min.css' %}"
    />

    <!-- Wow Animation CSS Link -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/animate.css' %}" />

    <!-- Jquery Ui CSS Link -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/jquery-ui.css' %}" />

    <!-- Main Style CSS Link -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}" />
  </head>
{% endblock %}

{% block main %}


    <!-- Banner Start -->
    <section class="inner-banner">
      <div class="main-banner-bg-shape">
        <div class="shape-1"></div>
        <div class="shape-2"></div>
      </div>
      <div class="inner-banner-bg-aliment-wp">
        <div class="bg-aliment-3 zoom-fade-animation">
          <img
            src="{% static 'assets/images/aliment-03.svg' %}"
            width="44"
            height="44"
            alt="Aliment"
          />
        </div>

        <div class="bg-aliment-6 zoom-fade-animation">
          <img
            src="{% static 'assets/images/aliment-03.svg' %}"
            width="44"
            height="44"
            alt="Aliment"
          />
        </div>

        <div class="bg-aliment-9 zoom-fade-animation">
          <img
            src="{% static 'assets/images/aliment-03.svg' %}"
            width="29"
            height="29"
            alt="Aliment"
          />
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="banner-content text-center">
              <h1 class="h1-title">{% trans 'Kitablar' %}</h1>
              <div class="banner-breadcrum">
                <ul>
                  <li><a href="{% url 'index' %}" title="Home">{% trans 'Ana səhifə' %}</a></li>
                  <li><i class="fa-solid fa-angle-right"></i></li>
                  <li>{% trans 'Kitablar' %}</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Banner End -->

    <!-- Courses Grid Start -->
    <section class="courses-grid-sec sec-space">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="courses-side-bar">
              <div
                class="courses-search-form wow fadeup-animation"
                data-wow-duration="0.8s"
                data-wow-delay="0.2s"
              >
                <form method="get" action="">
                  <input
                    type="text"
                    name="search_name"
                    class="form-input"
                    placeholder="{% trans 'Adına görə axtar...' %}"
                    value="{{ search_name|default_if_none:'' }}"
                  />
                  <button type="submit" class="sec-btn">
                    <span>
                      <img src="{% static 'assets/images/search-icon.svg' %}" width="18" height="18" alt="Search Icon"/>
                    </span>
                  </button>
                </form>

              </div>
              <div
                class="courses-sidebar-pricing wow fadeup-animation"
                data-wow-duration="0.8s"
                data-wow-delay="0.2s"
              >
                <div class="courses-sidebar-title">
                  <h4 class="underline-title">{% trans 'Qiymət' %}</h4>
                </div>
                <div class="price-form">
                <form method="get" action="">
                  <input
                    type="number"
                    name="min_price"
                    class="form-input"
                    placeholder="{% trans 'min' %}"
                    value="{{ min_price|default_if_none:'' }}"
                  />
                  <input
                    type="number"
                    name="max_price"
                    class="form-input"
                    placeholder="{% trans 'max' %}"
                    value="{{ max_price|default_if_none:'' }}"
                  />
                  <button type="submit" class="sec-btn">
                    <span>
                      <img src="{% static 'assets/images/search-icon.svg' %}" width="18" height="18" alt="Search Icon"/>
                    </span>
                  </button>
                </form>

                </div>
              </div>
              <div
                class="courses-sidebar-categories wow fadeup-animation"
                data-wow-duration="0.8s"
                data-wow-delay="0.2s"
              >
                <div class="courses-sidebar-title">
                  <h4 class="underline-title">{% trans 'Kateqoriyalar' %}</h4>
                </div>
                <ul>
                <form method="get" class="categ-form">
                  {% for sc in book_sub_category %}
                    <li class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        name="sub_category"
                        value="{{ sc.id }}"
                        id="sub_category{{ sc.id }}"
                        {% if sc.id|stringformat:"s" == sub_category_selected %}checked{% endif %}
                      />
                      <label class="form-check-label" for="sub_category{{ sc.id }}">
                        {{ sc.title }} ({{ sc.book_set.count }})
                      </label>
                    </li>
                  {% endfor %}
                  <button type="submit" class="sec-btn"><span>{% trans 'Axtar' %}</span></button>
                </form>


                </ul>
              </div>
            </div>
          </div>
          <div class="col-lg-8">
            <div class="courses-list-box-row-wp">
              <div
                class="courses-list-style-box wow fadeup-animation"
                data-wow-duration="0.8s"
                data-wow-delay="0.2s"
              >
                <div class="courses-list-show-box"></div>
                <div class="courses-list-dropdown-box">
                  <div class="form-element">
                    <span class="sort-by-text">{% trans 'Qiymet yuxaridan ashagi:' %}</span>
                    <i class="fa-solid fa-angle-down"></i>
                  </div>

                <ul>
                    <li><a href="?sort_by=name_asc"{% if sort_selected == 'name_asc' %} class="active"{% endif %}>{% trans 'Ada görə (A-Z)' %}</a></li>
                    <li><a href="?sort_by=name_desc"{% if sort_selected == 'name_desc' %} class="active"{% endif %}>{% trans 'Ada görə (Z-A)' %}</a></li>
                    <li><a href="?sort_by=price_desc"{% if sort_selected == 'price_desc' %} class="active"{% endif %}>{% trans 'Qiymətə görə (yuxarıdan-aşağı)' %}</a></li>
                    <li><a href="?sort_by=price_asc"{% if sort_selected == 'price_asc' %} class="active"{% endif %}>{% trans 'Qiymətə görə (aşağıdan-yuxarı)' %}</a></li>
                    <li><a href="?sort_by=latest"{% if sort_selected == 'latest' %} class="active"{% endif %}>{% trans 'Ən son yüklənənlər' %}</a></li>
                </ul>

                </div>
              </div>
              <div class="courses-list-box-row">
                <div class="row">
                  {% for i in book %}
                    <div class="col-md-6">
                      <div
                        class="common-post-card wow fadeup-animation"
                        data-wow-duration="0.8s"
                        data-wow-delay="0.2s"
                      >
                        <div class="post-image-box-wp">
                          <div class="post-image">
                            <a href="{% url 'book_details' i.id %}">
                              <img
                                src="{{ i.image.url }}"
                                width="356"
                                height="230"
                                alt="Course Image"
                              />
                            </a>
                          </div>
                          <div class="post-tag">
                            <span>{{ i.category.title }}</span>
                          </div>
                        </div>
                        <div class="common-post-content">
                          <div class="post-content-title">
                            <a
                              href="{% url 'book_details' i.id %}"
                              title="{{ i.title }}"
                            >
                              <h4 class="h4-title">{{ i.title }}</h4>
                            </a>
                          </div>
                          <div class="course-price">
                            <h4 class="h4-title">{{ i.price }}₼</h4>
                            {% if i.old_price %}
                            <h4 class="h4-title prev-price">{{ i.old_price }}₼</h4>
                            {% endif %}
                          </div>
                        </div>
                      </div>
                    </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Courses Grid End -->
{% endblock %}
{% block js %}
    <!-- Back To Top Start -->
    <div class="scroll-to-top">
      <svg
        class="progress-circle svg-content"
        width="100%"
        height="100%"
        viewBox="-1 -1 102 102"
      >
        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"></path>
      </svg>
    </div>
    <!-- Back To Top End -->

    <!-- Jquery JS Link -->

    <script src="{% static 'assets/js/jquery-3.7.1.min.js' %}"></script>

    <!-- Jquery ui JS Link -->
    <script src="{% static 'assets/js/jquery-ui.min.js' %}"></script>

    <!-- Bootstrap JS Link -->
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>

    <!-- Swiper Slider JS Link -->
    <script src="{% static 'assets/js/swiper-bundle.min.js' %}"></script>

    <!-- Bg Moving JS Link -->
    <script src="{% static 'assets/js/bg-moving.js' %}"></script>

    <!-- Wow Animation JS Link -->
    <script src="{% static 'assets/js/wow.min.js' %}"></script>

    <!-- Pricing Range JS Link -->
    <script src="{% static 'assets/js/pricing-range.js' %}"></script>

    <!-- Custom JS Link -->
    <script src="{% static 'assets/js/custom.js' %}"></script>

    <!-- Back To Top JS Link -->
    <script src="{% static 'assets/js/back-to-top.js' %}"></script>
{% endblock %}